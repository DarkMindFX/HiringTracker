DECLARE @FirstName AS NVARCHAR(50) = '[Test {895A97819DEC4F7888EDD6939159D1A6}] First'
DECLARE @MiddleName AS NVARCHAR(50) = '[Test {895A97819DEC4F7888EDD6939159D1A6}] Middle'
DECLARE @LastName AS NVARCHAR(50) = '[Test {895A97819DEC4F7888EDD6939159D1A6}] Last'
DECLARE @Email AS NVARCHAR(50) = 'test_895A97819DEC4F7888EDD6939159D1A6@email.com'
DECLARE @Phone AS NVARCHAR(50) = '+895A97819DEC4F7888EDD6939159D1A6'
DECLARE @CVLink AS NVARCHAR(1000) = 'http://www.dropbox.com/cvs/test_895A97819DEC4F7888EDD6939159D1A6.pdf'
DECLARE @UserID AS BIGINT = 100002
DECLARE @StatusID AS BIGINT = 1
DECLARE @CandidateID AS BIGINT

IF(NOT EXISTS(SELECT 1 FROM dbo.Candidate WHERE Email = @Email))
BEGIN
	EXEC [dbo].[p_Candidate_Upsert]
		NULL,
		@FirstName,
		@MiddleName,
		@LastName,
		@Email,
		@Phone,
		@CVLink,
		@UserID,
		@CandidateID OUT
END